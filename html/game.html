<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë©”ì´ì˜ ì§‘ - ê²Œì„</title>
  <link rel="stylesheet" href="../css/mystyle.css">
  <link rel="stylesheet" href="../css/game.css">
</head>
<body>
<div class="header">ğŸ¾ <span>ë©”ì´ì˜ ì§‘</span> ğŸ¾</div>

<ul>
  <li><a href="../main.html">í™ˆ</a></li>
  <li><a href="./introduce.html">ì†Œê°œ</a></li>
  <li><a href="./life.html">ë¬˜ìƒ</a></li>
  <li><a href="./gallery.html">ê°¤ëŸ¬ë¦¬</a></li>
  <li><a href="./cuteness.html">ê·€ì—¬ì›€</a></li>
  <li><a href="./game.html">ê²Œì„</a></li>
  <li class="dropdown">
      <a href="#" class="dropbtn">Dropdown</a>
      <div class="dropdown-content" >
        <a href="http://www.google.com">êµ¬ê¸€</a>
        <a href="http://www.youtube.com">ìœ íŠœë¸Œ</a>
        <a href="http://www.naver.com">ë„¤ì´ë²„</a>
      </div>
</ul>

<article>
  <h2>ğŸ® ë©”ì´ì˜ ê²Œì„</h2>
  <p>ì´ í˜ì´ì§€ëŠ” ë©”ì´ì˜ ê²Œì„ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.</p>
</article>

<div class="game-title">ğŸ® ë©”ì´ë¥¼ í”¼í•´ í´ë¦­í•˜ì„¸ìš”! (ì§€ë¢°ì°¾ê¸° ìŠ¤íƒ€ì¼)</div>
  <button class="reset-btn" onclick="initGame()">ğŸ”„ ë‹¤ì‹œ ì‹œì‘</button>
  <div class="grid" id="grid"></div>
  <div class="result" id="result"></div>

  <script>
    const gridSize = 8;
    const totalCells = gridSize * gridSize;
    const totalMines = 10;
    const grid = document.getElementById('grid');
    const result = document.getElementById('result');
    let mines, revealedCount, gameOver;

    function getIndex(row, col) {
      return row * gridSize + col;
    }

    function countNearbyMines(index) {
      const row = Math.floor(index / gridSize);
      const col = index % gridSize;
      let count = 0;

      for (let dr = -1; dr <= 1; dr++) {
        for (let dc = -1; dc <= 1; dc++) {
          if (dr === 0 && dc === 0) continue;
          const newRow = row + dr;
          const newCol = col + dc;
          if (
            newRow >= 0 && newRow < gridSize &&
            newCol >= 0 && newCol < gridSize
          ) {
            const newIndex = getIndex(newRow, newCol);
            if (mines.has(newIndex)) count++;
          }
        }
      }

      return count;
    }

    function initGame() {
      grid.innerHTML = '';
      result.textContent = '';
      mines = new Set();
      revealedCount = 0;
      gameOver = false;

      while (mines.size < totalMines) {
        mines.add(Math.floor(Math.random() * totalCells));
      }

      for (let i = 0; i < totalCells; i++) {
        const cell = document.createElement('div');
        cell.classList.add('cell');
        cell.dataset.index = i;

        cell.addEventListener('click', function () {
          if (gameOver || cell.classList.contains('revealed')) return;

          cell.classList.add('revealed');

          if (mines.has(i)) {
            cell.textContent = 'ğŸ±';
            cell.style.backgroundColor = '#ff9999';
            result.textContent = 'ì•—! ë©”ì´ë¥¼ í´ë¦­í–ˆì–´ìš”! ê²Œì„ ì˜¤ë²„ ğŸ˜¿';
            gameOver = true;
          } else {
            const nearby = countNearbyMines(i);
            cell.textContent = nearby > 0 ? nearby : 'âœ”ï¸';
            revealedCount++;
            if (revealedCount === totalCells - totalMines) {
              result.textContent = 'ğŸ‰ ë©”ì´ë¥¼ í”¼í•´ ëª¨ë‘ ì„±ê³µí–ˆì–´ìš”!';
              gameOver = true;
            }
          }
        });

        grid.appendChild(cell);
      }
    }

    initGame();
  </script>

<aside>
  <img src="../image/2.jpg" alt="ë©”ì´ ì´ë¯¸ì§€" style="max-width: 100%; border-radius: 10px;">
</aside>
<div style="clear: both; padding: 20px; text-align: center; color: #777; background: #f9f9f9">
  ë©”ì´ì˜ ì§‘
</div>
</body>
</html>
